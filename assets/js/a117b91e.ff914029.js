"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[63],{755:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>l,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"Administration Guide/Container Registry","title":"Container Registry","description":"It is recommended to create a new container registry that is only used for this project to be able to separate this from other container images or if you are reusing the container registry that is also used for SAS Viya, setting permissions is recommended.","source":"@site/docs/Administration Guide/Container Registry.md","sourceDirName":"Administration Guide","slug":"/Administration Guide/Container Registry","permalink":"/sas-portal-framework-for-sas-viya/Administration Guide/Container Registry","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"defaultSidebar","previous":{"title":"Introduction","permalink":"/sas-portal-framework-for-sas-viya/Administration Guide/Introduction"},"next":{"title":"Configuration for Publishing","permalink":"/sas-portal-framework-for-sas-viya/Administration Guide/Configuration for Publishing"}}');var s=i(4848),r=i(8453);const o={sidebar_position:2},a=void 0,c={},d=[{value:"Create a SAS Container Runtime Publishing Destination",id:"create-a-sas-container-runtime-publishing-destination",level:2}];function u(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"It is recommended to create a new container registry that is only used for this project to be able to separate this from other container images or if you are reusing the container registry that is also used for SAS Viya, setting permissions is recommended."}),"\n",(0,s.jsx)(t.p,{children:"This container registry will be configured as a publishing destination for SAS Viya, more specifically for the SAS Container Runtime (SCR) images."}),"\n",(0,s.jsx)(t.p,{children:"In Azure you need to create an app registration beside the registry. This app registration will then get the permissions to push SCR containers to the registy."}),"\n",(0,s.jsx)(t.p,{children:"Within the app registration, a client ID and a secret needs to be defined. These information's will be used later to create the publishing destination in SAS Viya."}),"\n",(0,s.jsxs)(t.p,{children:["Please see this SAS Communities article for further information's: ",(0,s.jsx)(t.a,{href:"https://communities.sas.com/t5/SAS-Communities-Library/How-to-Publish-a-SAS-Model-to-Azure-with-SCR-A-Start-to-Finish/ta-p/768714",children:"https://communities.sas.com/t5/SAS-Communities-Library/How-to-Publish-a-SAS-Model-to-Azure-with-SCR-A-Start-to-Finish/ta-p/768714"})]}),"\n",(0,s.jsx)(t.h2,{id:"create-a-sas-container-runtime-publishing-destination",children:"Create a SAS Container Runtime Publishing Destination"}),"\n",(0,s.jsxs)(t.p,{children:["For more information about the publishing destination please refer to the ",(0,s.jsx)(t.a,{href:"https://go.documentation.sas.com/doc/en/sasadmincdc/default/calpubdest/titlepage.htm?requestorId=2482150b-5313-402c-b184-9172cb14226c",children:"SAS Documentation"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["For the creation of the SAS Container Runtime publishing destination it is recommended to use the ",(0,s.jsx)(t.a,{href:"https://go.documentation.sas.com/doc/en/sasadmincdc/default/calcli/titlepage.htm",children:"SAS Viya CLI"}),". The command detailed below is used to create a publishing destination that is using a Azure Container Registry - this is also availble for AWS, GCP and Private Docker:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:'sas-viya models destination createAzure \\\n    --name llmACR \\\n    --description "LLM Azure Container Registry Publishing Destination" \\\n    --baseRepoURL "<name>.azurecr.io" \\\n    --subscriptionId <azure-subscription-ID> \\\n    --tenantId <azure-tenant-ID> \\\n    --region "<azure-region>" \\\n    --kubernetesCluster "<kubernetes-cluster>" \\\n    --resourceGroupName "<resource-group>" \\\n    --credDomainID "LLMACRCredDomain" \\\n    --credDescription "Azure LLM ACR Credentials Domain" \\\n    --clientId <app-registration-client-ID> \\\n    --clientSecret <app-registration-client-secret> \\\n    --identityType group \\\n    --identityId <group-that-should-publish>\n'})}),"\n",(0,s.jsx)(t.p,{children:"Please note if this command still asks you to enter something manually than a line break wasn't recognized correctly. If this is the case please remove the \\ and put the command on one line."}),"\n",(0,s.jsxs)(t.p,{children:["If you prefer to use SAS Environment Manager to create the publishing destination than please refer to this guide in the ",(0,s.jsx)(t.a,{href:"https://go.documentation.sas.com/doc/en/sasadmincdc/default/calpubdest/p02scrqf37kexwn1gi60khpshifz.htm?requestorId=2482150b-5313-402c-b184-9172cb14226c",children:"SAS Documentation"}),"."]})]})}function l(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,t,i)=>{i.d(t,{R:()=>o,x:()=>a});var n=i(6540);const s={},r=n.createContext(s);function o(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(r.Provider,{value:t},e.children)}}}]);