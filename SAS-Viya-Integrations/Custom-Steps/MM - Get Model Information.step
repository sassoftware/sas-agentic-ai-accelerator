{"creationTimeStamp":"2024-08-03T14:51:03.517Z","modifiedTimeStamp":"2024-08-03T14:58:54.181Z","createdBy":"gerdaw","modifiedBy":"gerdaw","name":"MM - Get Model Information.step","displayName":"MM - Get Model Information.step","localDisplayName":"MM - Get Model Information.step","description":"Retrieves six tables that contain detailed information about a model in SAS Model Manager","localDescription":"Retrieves six tables that contain detailed information about a model in SAS Model Manager","properties":{},"links":[{"method":"GET","rel":"self","href":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1","uri":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1","type":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"alternate","href":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1","uri":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1","type":"application/vnd.sas.data.flow.step.summary"},{"method":"GET","rel":"up","href":"/dataFlows/steps","uri":"/dataFlows/steps","type":"application/vnd.sas.collection","itemType":"application/vnd.sas.data.flow.step.summary"},{"method":"PUT","rel":"update","href":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1","uri":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1","type":"application/vnd.sas.data.flow.step","responseType":"application/vnd.sas.data.flow.step"},{"method":"DELETE","rel":"delete","href":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1","uri":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1"},{"method":"POST","rel":"copy","href":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1/copy","uri":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1/copy","responseType":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"transferExport","href":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1","uri":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1","responseType":"application/vnd.sas.transfer.object"},{"method":"PUT","rel":"transferImportUpdate","href":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1","uri":"/dataFlows/steps/ea20fc26-ea5c-4903-8eb2-aa52615d06a1","type":"application/vnd.sas.transfer.object","responseType":"application/vnd.sas.summary"}],"metadataVersion":0.0,"version":2,"type":"code","flowMetadata":{"inputPorts":[{"name":"_mgi_rep_input","displayName":"_mgi_rep_input","localDisplayName":"_mgi_rep_input","minEntries":0,"maxEntries":1,"defaultEntries":0,"type":"table"}],"outputPorts":[]},"ui":"{\n\t\"showPageContentOnly\": true,\n\t\"pages\": [\n\t\t{\n\t\t\t\"id\": \"pageDefinition\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"Definition\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_mgi_info_text\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"For the model ID you can either connect a table, that contains the model ID or you can manually enter an ID value.\\n\\nThe output consists of six tables, that contain information according to their name:\\n- work._mgi_baseInformation\\n- work._mgi_files\\n- work._mgi_inputVariables\\n- work._mgi_outputVariables\\n- work._mgi_modelVersions\\n- work._mgi_publishedModels\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_mgi_input_selector\",\n\t\t\t\t\t\"type\": \"radiogroup\",\n\t\t\t\t\t\"label\": \"Choose how to enter the model ID:\",\n\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"value\": \"table\",\n\t\t\t\t\t\t\t\"label\": \"Select ID from a table\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"value\": \"manual\",\n\t\t\t\t\t\t\t\"label\": \"Input an ID manually\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_mgi_rep_input\",\n\t\t\t\t\t\"type\": \"inputtable\",\n\t\t\t\t\t\"label\": \"Model table:\",\n\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$_mgi_input_selector\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"table\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_mgi_col\",\n\t\t\t\t\t\"type\": \"columnselector\",\n\t\t\t\t\t\"label\": \"Select model ID column:\",\n\t\t\t\t\t\"include\": null,\n\t\t\t\t\t\"order\": false,\n\t\t\t\t\t\"columntype\": \"c\",\n\t\t\t\t\t\"max\": 1,\n\t\t\t\t\t\"min\": null,\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$_mgi_input_selector\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"table\"\n\t\t\t\t\t],\n\t\t\t\t\t\"readonly\": false,\n\t\t\t\t\t\"table\": \"_mgi_rep_input\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_mgi_repID_table\",\n\t\t\t\t\t\"type\": \"list\",\n\t\t\t\t\t\"label\": \"Select the model ID:\",\n\t\t\t\t\t\"items\": {\n\t\t\t\t\t\t\"ref\": \"_mgi_col\"\n\t\t\t\t\t},\n\t\t\t\t\t\"max\": 1,\n\t\t\t\t\t\"min\": null,\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$_mgi_input_selector\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"table\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"_mgi_repID_manual\",\n\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\"label\": \"Enter a model ID:\",\n\t\t\t\t\t\"placeholder\": \"Model ID\",\n\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$_mgi_input_selector\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"manual\"\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"pageAbout\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"About\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"textAbout\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"MM - Get Model Information step\\n==========\\n\\nThe \\\"MM - Get Model Information\\\" custom steps performs a look up of a lot of detailed information for a model in a SAS Model Manager (MM) that the step user has access to.\\n\\nThis step requires as an input the ID of a model, to retrieve a list of model IDs use the MM - Get Models in Project step.\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"sectionPrereqs\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Pre-requisites\",\n\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"textPrereqs\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Pre-requisites:  Tested on Viya version Stable 2024.07\\n\\nSAS Model Manager has be licensed and the user has to have the capability to use SAS Model Manager.\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"sectionDocumentation\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Documentation\",\n\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"textDocumentation\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"* The following SAS Viya REST-API is used: https://developer.sas.com/rest-apis/modelRepository-v8?operation=getModel\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"sectionChangelog\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Changelog\",\n\t\t\t\t\t\"open\": true,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"textChangelog\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"* Version: 1.0 (03AUG2024)\\n      - Initial version\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"syntaxversion\": \"1.3.0\",\n\t\"values\": {\n\t\t\"_mgi_input_selector\": {\n\t\t\t\"value\": \"table\",\n\t\t\t\"label\": \"Select ID from a table\"\n\t\t},\n\t\t\"_mgi_rep_input\": {\n\t\t\t\"library\": \"\",\n\t\t\t\"table\": \"\"\n\t\t},\n\t\t\"_mgi_col\": [],\n\t\t\"_mgi_repID_table\": [],\n\t\t\"_mgi_repID_manual\": \"\"\n\t}\n}","templates":{"SAS":"/**************************************************************\n    Get a list of Models in a SAS Model Manager Project\n\n    mgm is short for:\n      Model Manager Get Models\n**************************************************************/\n* Get the Viya Host URL;\n%let _mgi_viyaHost=%sysfunc(getoption(SERVICESBASEURL));\n\n%if &_mgi_input_selector. EQ table %then %do;\n\t%let _mgi_model_id = &_mgi_repid_table_1.;\n%end;\n%else %do;\n\t%let _mgi_model_id = &_mgi_repid_manual.;\n%end;\n\nfilename _mgi_rp temp;\n\n* https://developer.sas.com/rest-apis/modelRepository-v8?operation=getModel;\nproc http method = 'Get'\n    url = \"&_mgi_viyaHost./modelRepository/models/&_mgi_model_id.\"\n    oauth_bearer = sas_services\n    out = _mgi_rp;\n    headers 'Accept' = 'application/json';\nquit;\n\nlibname _mgi_rp json;\n\nproc transpose data=_mgi_rp.root out=work._mgi_baseInformation;\n    var creationTimeStamp createdBy modifiedTimeStamp modifiedBy id 'name'n 'role'n scoreCodeType algorithm 'function'n modeler modelType trainTable eventProbVar targetVariable targetEvent targetLevel tool toolVersion candidateChampion publishTimeStamp externalModelId indirectFolderId repositoryId projectId projectVersionId 'immutable'n folderRef 'location'n modelVersionName projectName projectVersionName projectVersionNum modelLocks version nondeterministic sasOptions;\nrun; quit;\n\ndata work._mgi_files;\n    set _mgi_rp.files;\nrun;\n\ndata work._mgi_inputVariables;\n    set _mgi_rp.inputVariables;\nrun;\n\ndata work._mgi_outputVariables;\n    set _mgi_rp.outputVariables;\nrun;\n\ndata work._mgi_outputVariables;\n    set _mgi_rp.outputVariables;\nrun;\n\ndata work._mgi_modelVersions;\n    set _mgi_rp.modelVersions;\nrun;\n\ndata work._mgi_publishedModels;\n    set _mgi_rp.publishedModels;\nrun;\n\n* Clean up;\nlibname _mgi_rp clear;\nfilename _mgi_rp clear;\n%symdel _mgi_viyaHost _mgi_model_id;\n%sysmacdelete _mgm_model_pagination;"}}